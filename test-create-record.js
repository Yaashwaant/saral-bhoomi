import axios from 'axios';

const API_BASE_URL = 'http://localhost:5000';

async function testCreateRecord() {
  try {
    const projectId = '68da6edf579af093415f639e'; // Palghar DFCC Project
    
    const newRecord = {
      рдЕ_рдХреНрд░: '12345',
      рдЦрд╛рддреЗрджрд╛рд░рд╛рдЪреЗ_рдирд╛рдВрд╡: 'рдЯреЗрд╕реНрдЯ рдЦрд╛рддреЗрджрд╛рд░',
      рдЬреБрдирд╛_рд╕_рдирдВ: 'OLD123',
      рдирд╡рд┐рди_рд╕_рдирдВ: 'NEW123',
      рдЧрдЯ_рдирдВрдмрд░: 'GAT456',
      рд╕реА_рдЯреА_рдПрд╕_рдирдВ: 'CTS789',
      Village: 'рдЯреЗрд╕реНрдЯ рдЧрд╛рд╡',
      Taluka: 'рдЯреЗрд╕реНрдЯ рддрд╛рд▓реБрдХрд╛',
      District: 'рдкрд╛рд▓рдШрд░',
      рдЧрд╛рдВрд╡_рдирдореБрдирд╛_7_12_рдиреБрд╕рд╛рд░_рдЬрдорд┐рдиреАрдЪреЗ_рдХреНрд╖реЗрддреНрд░_рд╣реЗ_рдЖрд░: 100,
      рд╕рдВрдкрд╛рджрд┐рдд_рдЬрдорд┐рдиреАрдЪреЗ_рдХреНрд╖реЗрддреНрд░_рдЪреМ_рдореА_рд╣реЗрдХреНрдЯрд░_рдЖрд░: 50,
      рдЬрдорд┐рдиреАрдЪрд╛_рдкреНрд░рдХрд╛рд░: 'рд╢реЗрддреА',
      рдЬрдорд┐рдиреАрдЪрд╛_рдкреНрд░рдХрд╛рд░_рд╢реЗрддреА_рдмрд┐рдирд╢реЗрддреА_рдзрд╛рд░рдгрд╛рдзрд┐рдХрд╛рд░: 'рд╢реЗрддреА',
      рдордВрдЬреБрд░_рдХреЗрд▓реЗрд▓рд╛_рджрд░_рдкреНрд░рддрд┐_рд╣реЗрдХреНрдЯрд░_рд░рдХреНрдХрдо_рд░реБрдкрдпреЗ: 50000,
      рд╕рдВрдкрд╛рджреАрдд_рд╣реЛрдгрд╛рд▒реНрдпрд╛_рдЬрдорд┐рдиреАрдЪреНрдпрд╛_рдХреНрд╖реЗрддреНрд░рд╛рдиреБрд╕рд╛рд░_рдпреЗрдгрд╛рд░реЗ_рдмрд╛рдЬрд╛рд░рдореБрд▓реНрдп_рд░_рд░реВ: 2500000,
      рдХрд▓рдо_26_2_рдиреБрд╕рд╛рд░_рдЧрд╛рд╡рд╛рд╕_рд▓рд╛рдЧреБ_рдЕрд╕рд▓реЗрд▓реЗ_рдЧрдгрдХ_Factor_рдЕ_рдХреНрд░_5_X_8: 1,
      рдХрд▓рдо_26_рдиреБрд╕рд╛рд░_рдЬрдорд┐рдиреАрдЪрд╛_рдореЛрдмрджрд▓рд╛_9X10: 0,
      рдмрд╛рдВрдзрдХрд╛рдореЗ: 0,
      рд╡рдирдЭрд╛рдбреЗ: 0,
      рдлрд│рдЭрд╛рдбреЗ: 0,
      рд╡рд┐рд╣рд┐рд░реА_рдмреЛрдЕрд░рд╡реЗрд▓: 0,
      рдПрдХреБрдг_рд░рдХреНрдХрдо_рд░реБрдкрдпреЗ_16_18_20_22: 0,
      рдПрдХреБрдг_рд░рдХреНрдХрдо_14_23: 0,
      рд╕реЛрд▓реЗрд╢рд┐рдпрдо_рджрд┐рд▓рд╛рд╕рд╛_рд░рдХреНрдХрдо: 0,
      рдирд┐рд░реНрдзрд╛рд░рд┐рдд_рдореЛрдмрджрд▓рд╛_26: 0,
      рдПрдХреВрдг_рд░рдХреНрдХрдореЗрд╡рд░_25_рд╡рд╛рдвреАрд╡_рдореЛрдмрджрд▓рд╛: 0,
      рдПрдХреБрдг_рдореЛрдмрджрд▓рд╛_26_27: 0,
      рд╡рдЬрд╛рд╡рдЯ_рд░рдХреНрдХрдо_рд░реБрдкрдпреЗ: 0,
      рд╣рд┐рддрд╕рдВрдмрдВрдзрд┐рддрд╛рд▓рд╛_рдЕрджрд╛_рдХрд░рд╛рд╡рдпрд╛рдЪреА_рдПрдХреБрдг_рдореЛрдмрджрд▓рд╛_рд░рдХреНрдХрдо_рд░реБрдкрдпреЗ: 0,
      рд╢реЗрд░рд╛: 'рдЯреЗрд╕реНрдЯ рд░реЗрдХреЙрд░реНрдб',
      рдореЛрдмрджрд▓рд╛_рд╡рд╛рдЯрдк_рддрдкрд╢рд┐рд▓: 'рдЯреЗрд╕реНрдЯ рдореЛрдмрджрд▓рд╛',
      project_id: projectId
    };
    
    console.log(`ЁЯФД Testing POST endpoint: ${API_BASE_URL}/api/landowners2`);
    console.log('ЁЯУд Sending data:', JSON.stringify(newRecord, null, 2));
    
    const response = await axios.post(`${API_BASE_URL}/api/landowners2`, newRecord, {
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer demo-jwt-token',
        'x-demo-role': 'officer'
      }
    });
    
    console.log('тЬЕ Record created successfully!');
    console.log('ЁЯУК Response:', response.data);
    
  } catch (error) {
    console.error('тЭМ Error creating record:');
    console.error('Status:', error.response?.status);
    console.error('Data:', error.response?.data);
    console.error('Message:', error.message);
  }
}

testCreateRecord();